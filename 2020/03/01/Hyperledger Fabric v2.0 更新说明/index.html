<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
  <title>zhangyong</title>

  <!-- keywords -->
  

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="从 v1.0以来，第一个 Hyperledger Fabric 主版本，Fabric v2.0为用户和运营商提供了重要的新功能和更改，包括对新应用程序和隐私模式的支持，围绕智能合约对管理增强，操作节点的新选择。    保持不变的是根据您自己的条件升级网络组件的能力，支持从 v1.4.x 开始滚动升级，以及只有在成员组织准备好时才启用新功能的能力。    下面我们就来看看 Fabric v2.0 发">
<meta property="og:type" content="article">
<meta property="og:title" content="zhangyong">
<meta property="og:url" content="http://yoursite.com/2020/03/01/Hyperledger Fabric v2.0 更新说明/index.html">
<meta property="og:site_name" content="zhangyong">
<meta property="og:description" content="从 v1.0以来，第一个 Hyperledger Fabric 主版本，Fabric v2.0为用户和运营商提供了重要的新功能和更改，包括对新应用程序和隐私模式的支持，围绕智能合约对管理增强，操作节点的新选择。    保持不变的是根据您自己的条件升级网络组件的能力，支持从 v1.4.x 开始滚动升级，以及只有在成员组织准备好时才启用新功能的能力。    下面我们就来看看 Fabric v2.0 发">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2020-03-01T10:23:17.324Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="zhangyong">
<meta name="twitter:description" content="从 v1.0以来，第一个 Hyperledger Fabric 主版本，Fabric v2.0为用户和运营商提供了重要的新功能和更改，包括对新应用程序和隐私模式的支持，围绕智能合约对管理增强，操作节点的新选择。    保持不变的是根据您自己的条件升级网络组件的能力，支持从 v1.4.x 开始滚动升级，以及只有在成员组织准备好时才启用新功能的能力。    下面我们就来看看 Fabric v2.0 发">
  
    <link rel="alternative" href="/atom.xml" title="zhangyong" type="application/atom+xml">
  
  
    <link rel="icon" href="http://7xkj1z.com1.z0.glb.clouddn.com/head.jpg">
  
  <link rel="stylesheet" href="/css/style.css">
  
  

  <script src="//cdn.bootcss.com/require.js/2.3.2/require.min.js"></script>
  <script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>

  
</head></html>
<body>
  <div id="container">
    <div id="particles-js"></div>
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="https://avatars0.githubusercontent.com/u/39975746?s=400&amp;u=5c82d9ef34c547270f3fbe1d343a296e3ebdce25&amp;v=4" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">zhangyong</a></h1>
		</hgroup>

		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="https://github.com/smackgg/hexo-theme-smackdown">smackdown</a>
			        
			        </div>
				</section>
				

				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">zhangyong</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="https://avatars0.githubusercontent.com/u/39975746?s=400&amp;u=5c82d9ef34c547270f3fbe1d343a296e3ebdce25&amp;v=4" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">zhangyong</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-Hyperledger Fabric v2.0 更新说明" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2020/03/01/Hyperledger Fabric v2.0 更新说明/" class="article-date">
  	<time datetime="2020-03-01T10:12:38.034Z" itemprop="datePublished">2020-03-01</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>从 v1.0以来，第一个 Hyperledger Fabric 主版本，Fabric v2.0为用户和运营商提供了重要的新功能和更改，包括对新应用程序和隐私模式的支持，围绕智能合约对管理增强，操作节点的新选择。</p>
<p>   保持不变的是根据您自己的条件升级网络组件的能力，支持从 v1.4.x 开始滚动升级，以及只有在成员组织准备好时才启用新功能的能力。</p>
<p>   下面我们就来看看 Fabric v2.0 发布的一些亮点……</p>
<p>##智能合约的去中心化治理<br>Fabric v2.0 引入了智能合约的去中心化治理，它提供了一个新的流程，用于在您的 Peer 节点上安装链码，并在通道上启动它。新的 Fabric 链码生命周期允许多个组织在它用于与账本交互之前认同链码的参数，例如链码背书策略。对于比以前的生命周期，新的模式有几个改进:</p>
<p>###多组织必须认同链码参数<br>在 Fabric 1.x 版本中，一个组织有能力为所有其他通道成员设置链码的参数（例如背书策略），这些通道成员只有拒绝安装链码的权力，因此不能参与调用它的事务。新的 Fabric 链码生命周期更加灵活，因为它既支持中心化的信任模式（如以前的生命周期模式），也支持去中心化的模式，去中心化的模式要求在链码于通道上变为活动状态之前，有足够数量的组织就背书策略和其他细节达成一致意见。</p>
<p>###更周密的链码升级过程<br>在以前的链码生命周期中，升级交易可能由单个组织发出，这会给尚未安装新链码的通道成员带来风险。新的模式允许只有在足够数量的组织批准升级后才能升级链码。</p>
<p>###更简单的背书政策和私有数据收集更新<br>Fabric生命周期允许您更改背书策略或私有数据收集配置，而无需重新打包或重新安装链码。用户还可以利用新的默认背书策略，该策略要求获得通道上大多数组织的背书。在通道中添加或删除组织时，会自动更新此策略。</p>
<p>###可被检查的链码包<br>Fabric生命周期将链码封装在易于阅读的 tar 文件中。这使得检查链码包和跨多个组织协调安装变得更加容易。</p>
<p>###使用一个包在通道上启动多个链码<br>以前的生命周期在安装链码包时使用指定的名称和版本定义通道上的每个链码。您现在可以使用单个链码包，并以不同的名称在同一通道或不同通道上多次部署它。例如，如果您想在链码自己的“副本”中跟踪不同类型的资产。</p>
<p>###链码包不需要在通道成员之间相同<br>组织可以用他们自己的用例扩展链码，例如为了他们组织的利益执行不同的验证。只要所需数量的组织为链码交易背书和结果相匹配，该交易将被验证并提交到帐本中。这还允许组织按照自己的时间表单独推出小的修补程序，而不需要整个网络同步进行。</p>
<p>##使用新的链码生命周期<br>对于现有的 Fabric 部署，您可以继续使用 Fabric v2.0 之前的链码生命周期。新的链码生命周期只有在通道应用程序功能更新到 v2.0 时才会生效。 关于新的链码生命周期完整细节教程请看 <a href="https://hyperledger-fabric.readthedocs.io/zh_CN/latest/chaincode4noah.html" target="_blank" rel="noopener">Chaincode for Operators</a></p>
<h3 id="用于协作和共识的新链码应用程序模式"><a href="#用于协作和共识的新链码应用程序模式" class="headerlink" title="用于协作和共识的新链码应用程序模式"></a>用于协作和共识的新链码应用程序模式</h3><p>支持新的链码生命周期管理的相同的去中心化的达成协议的方法也可以用于您自己的链码应用程序中，以确保组织在数据交易被提交到帐本之前同意它们。</p>
<p>####自动检查<br>如上所述，组织可以在链码功能中添加自动检查，以便在背书事务提案之前验证附加信息。</p>
<p>####去中心化协议<br>链码可能要求来自不同组织的参与者在账本交易中指明他们的协议条款和条件。然后，最终的链码提案可以验证来自所有单个交易者的条件是否得到满足，并最终在所有通道成员之间“解决”业务交易。有关以非公开方式指示条款和条件的具体示例，请参见资产转移场景，于文档中 私有数据.</p>
<p>##私有数据增强<br>Fabric v2.0还支持使用和共享私有数据的新模式，而不需要为所有可能要进行交易的通道成员组合创建私有数据集合。具体地说，您不是在多个成员的集合中共享私有数据，而是可能想要跨集合共享私有数据，其中每个集合可能包括单个组织，或者带有一个监管者或审计师的单个组织。</p>
<p>Fabric v2.0 中的几个增强使得这些新的私有数据模式成为可能:</p>
<p>###共享和验证私有数据<br>当私有数据与不是集合成员的通道成员共享时，或者与包含一个或多个通道成员的另一个私有数据集合共享时（通过向该集合写入密钥），接收方可以利用 GetPrivateDataHash() 链码 API 验证私有数据是否与以前交易中被创建的来自私有数据的链上哈希匹配。</p>
<p>###集合水平的背书策略<br>现在可以选择使用背书策略来定义私有数据集合，该背书策略覆盖集合内密钥的链码级别背书策略。该特性可用于限制哪些组织可以将数据写入集合，并且正是它启用了前面提到的新的链码生命周期和链码应用程序模式。例如，您可能有一个链码背书策略，该策略要求大多数组织背书，但对于任何给定的交易，您可能需要两个交易处理组织在它们自己的私有数据集合中单独背书它们的协议。</p>
<p>###每个组织的隐式集合<br>如果您想利用每个组织的私有数据模式，那么在 Fabric v2.0 中部署链码时甚至不需要定义集合。不需要任何前期定义就可以使用隐式的特定组织集合。<br>了解更多关于新的私有数据模式请看 <a href="https://hyperledger-fabric.readthedocs.io/zh_CN/latest/private-data/private-data.html" target="_blank" rel="noopener">私有数据</a> (概念文档). 更多关于私有数据集合配置和隐式集合请看 <a href="https://hyperledger-fabric.readthedocs.io/zh_CN/latest/private-data-arch.html" target="_blank" rel="noopener">Private Data</a> (参考文档).</p>
<p>##外部的链码启动器<br>外部链码启动器功能使运营商能够使用他们选择的技术构建和启动链码。不需要使用外部构建器和启动器，因为默认行为构建和运行链码的方式与使用 Docker API 的先前版本相同。</p>
<p>###消除 Docker<br>守护进程依赖 Fabric 以前的版本要求 Peer 节点能够访问 Docker 守护进程，以便构建和启动链码——由于 Peer 节点进程所需的特权，这在生产环境中可能是不可取的。</p>
<p>###容器的替代品<br>不再要求链码在 Docker 容器中运行，可以在运营商选择的环境（包括容器）中执行。</p>
<p>###外部构建器可执行文件<br>操作员可以提供一组外部构建器可执行文件，以覆盖 Peer 节点构建和启动链码方式。</p>
<p>###作为外部服务的链码<br>传统上，链码由 Peer 节点启动，然后连接回 Peer 节点。现在可以将链码作为外部服务运行，例如在 Kubernetes pod 中， Peer 节点可以连接到该 pod，并利用该 pod 执行链码。了解更多信息请看 <a href="https://hyperledger-fabric.readthedocs.io/zh_CN/latest/cc_service.html" target="_blank" rel="noopener">Chaincode as an external service</a><br>了解更多关于外部链码启动功能请看 <a href="https://hyperledger-fabric.readthedocs.io/zh_CN/latest/cc_launcher.html" target="_blank" rel="noopener">External Builders and Launchers</a> 。</p>
<p>##用于提高 CouchDB 性能的状态数据库缓存<br>在使用外部 CouchDB 状态数据库时，背书和验证阶段的读取延迟历来是性能瓶颈。<br>在 Fabric v2.0 中，一个新的 Peer 节点缓存用快速的本地缓存读取取代了许多昂贵的查找。可以使用 core.yaml 文件中的属性 cachesize 来配置缓存大小。</p>
<p>##基于 Alpine 的 docker 镜像<br>   从 v2.0 开始，Hyperledger Fabric Docker 镜像将使用 Alpine Linux 作为基础镜像，这是一个面向安全的轻量级 Linux 发行版。这意味着 Docker 镜像现在要小得多，提供更快的下载和启动时间，以及占用主机系统上更少的磁盘空间。Alpine Linux 的设计从一开始就考虑到了安全性，Alpine 发行版的最小化特性大大降低了安全漏洞的风险。</p>
<p>##示例测试网络<br>Fabric-Samples 仓库现在包括一个新的 Fabric 测试网络。测试网络被构建为模块化的和用户友好的示例 Fabric 网络，这使测试您的应用程序和智能合约变得容易。除了 Cryptogen 之外，该网络还支持使用 Certificate Authorities 部署网络的能力。</p>
<p>了解更多关于这个网络的信息，请查看 Using the Fabric test network.</p>
<p>##升级到 Fabric v2.0<br>一个主要的新版本带来了一些额外的升级注意事项。不过请放心，我们支持从 v1.4.x 到 v2.0 的滚动升级，因此可以一次升级一个网络组件而不会停机。</p>
<p>升级文档得到了显著的扩展和修改，现在在文档中有了一个独立的主页 <a href="https://hyperledger-fabric.readthedocs.io/zh_CN/latest/upgrade.html" target="_blank" rel="noopener">Upgrading to the latest release</a>. 这里您将会发现文档<br><a href="https://hyperledger-fabric.readthedocs.io/zh_CN/latest/upgrading_your_components.html" target="_blank" rel="noopener">Upgrading your components</a> 和 <a href="https://hyperledger-fabric.readthedocs.io/zh_CN/latest/updating_capabilities.html" target="_blank" rel="noopener">Updating the capability level of a channel</a>， 以及对升级到 v2.0 的注意事项的具体了解， <a href="https://hyperledger-fabric.readthedocs.io/zh_CN/latest/upgrade_to_newest_version.html" target="_blank" rel="noopener">Considerations for getting to v2.0</a>。</p>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2020/03/04/golang/golang面试题/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">&lt;</strong>
      <div class="article-nav-title">
        
          (no title)
        
      </div>
    </a>
  
  
    <a href="/2020/02/29/docker小结/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title"></div>
      <strong class="article-nav-caption">&gt;</strong>
    </a>
  
</nav>

  
</article>


<div class="ds-share share" data-thread-key="Hyperledger Fabric v2.0 更新说明" data-title="" data-url="http://yoursite.com/2020/03/01/Hyperledger Fabric v2.0 更新说明/"  data-images="https://avatars0.githubusercontent.com/u/39975746?s=400&amp;u=5c82d9ef34c547270f3fbe1d343a296e3ebdce25&amp;v=4" data-content="">
    <div class="ds-share-inline">
      <ul  class="ds-share-icons-16">
      	<li data-toggle="ds-share-icons-more"><a class="ds-more" href="javascript:void(0);">分享到：</a></li>
        <li><a class="ds-weibo" href="javascript:void(0);" data-service="weibo">微博</a></li>
        <li><a class="ds-qzone" href="javascript:void(0);" data-service="qzone">QQ空间</a></li>
        <li><a class="ds-qqt" href="javascript:void(0);" data-service="qqt">腾讯微博</a></li>
        <li><a class="ds-wechat" href="javascript:void(0);" data-service="wechat">微信</a></li>
      </ul>
      <div class="ds-share-icons-more">
      </div>
    </div>
 </div>
 





</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
      <div class="footer-left">
        &copy; 2020 zhangyong
      </div>
        <div class="footer-right">
          <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/smackgg/hexo-theme-smackdown" target="_blank">Smackdown</a>
        </div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="/js/main.js"></script>



<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js"></script>


  </div>
</body>
</html>